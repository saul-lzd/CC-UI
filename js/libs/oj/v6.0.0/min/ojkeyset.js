/**
 * @license
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";define(["ojs/ojcore","ojs/ojkeysetimpl"],function(t,e){var n=function(){};t.Object.createSubclass(n,t.Object,"KeySet"),t.KeySet=n,n.prototype.SetInternal=function(t){this._keys=t},n.prototype.AddOrDeleteInternal=function(t,e){var n,r;return null==(n=t?this._add(e):this._remove(e))?this:((r=Object.create(Object.getPrototypeOf(this))).SetInternal(n),r)},n.prototype._add=function(t){var e=this,n=null;return t.forEach(function(t){t!==e.NOT_A_KEY&&e.get(t)===e.NOT_A_KEY&&(null==n&&(n=e.Clone()),n.add(t))}),n},n.prototype._remove=function(t){var e,n=this,r=null;return 0===this._keys.size?null:(t.forEach(function(t){(e=n.get(t))!==n.NOT_A_KEY&&(null==r&&(r=n.Clone()),r.delete(e))}),r)},n.prototype.GetInternalSize=function(){return this._keys.size},n.prototype.Clone=function(){return this._populate(this._keys)},e.call(n.prototype);var r=function(t){this.InitializeWithKeys(t)};t.Object.createSubclass(r,n,"ExpandedKeySet"),t.ExpandedKeySet=r,r.prototype.add=function(t){return this.AddOrDeleteInternal(!0,t)},r.prototype.addAll=function(){return new o},r.prototype.isAddAll=function(){return!1},r.prototype.delete=function(t){return this.AddOrDeleteInternal(!1,t)},r.prototype.clear=function(){return 0===this.GetInternalSize()?this:new r},r.prototype.has=function(t){return this.get(t)!==this.NOT_A_KEY},r.prototype.values=function(){return this.Clone()};var o=function(){this.InitializeWithKeys(null)};return t.Object.createSubclass(o,n,"ExpandAllKeySet"),t.ExpandAllKeySet=o,o.prototype.add=function(t){return this.AddOrDeleteInternal(!1,t)},o.prototype.addAll=function(){return 0===this.GetInternalSize()?this:new o},o.prototype.isAddAll=function(){return!0},o.prototype.delete=function(t){return this.AddOrDeleteInternal(!0,t)},o.prototype.clear=function(){return new r},o.prototype.has=function(t){return this.get(t)===this.NOT_A_KEY},o.prototype.deletedValues=function(){return this.Clone()},{KeySet:n,ExpandedKeySet:r,ExpandAllKeySet:o}});