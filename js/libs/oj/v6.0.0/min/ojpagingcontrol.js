/**
 * @license
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";define(["ojs/ojcore","jquery","ojs/ojcontext","ojs/ojcomponentcore","hammerjs","ojs/ojlogger","ojs/ojpagingtabledatasource","ojs/ojinputtext","ojs/ojvalidation-number","ojs/ojjquery-hammer"],function(t,e,_,n,a,i){var s={properties:{data:{type:"oj.PagingModel"},loadMoreOptions:{type:"object",properties:{maxCount:{type:"number",value:500}}},mode:{type:"string",enumValues:["loadMore","page"],value:"page"},overflow:{type:"string",enumValues:["fit","none"],value:"fit"},pageOptions:{type:"object",properties:{layout:{type:"Array",enumValues:["all","auto","input","nav","pages","rangeText"],value:["auto"]},maxPageLinks:{type:"number",value:6},orientation:{type:"string",enumValues:["horizontal","vertical"],value:"horizontal"},type:{type:"string",enumValues:["dots","numbers"],value:"numbers"}}},pageSize:{type:"number",value:25},translations:{type:"object",value:{},properties:{labelAccNavFirstPage:{type:"string"},labelAccNavLastPage:{type:"string"},labelAccNavNextPage:{type:"string"},labelAccNavPage:{type:"string"},labelAccNavPreviousPage:{type:"string"},labelAccPaging:{type:"string"},labelLoadMore:{type:"string"},labelLoadMoreMaxRows:{type:"string"},labelNavInputPage:{type:"string"},labelNavInputPageMax:{type:"string"},maxPageLinksInvalid:{type:"string"},msgItemRangeCurrent:{type:"string"},msgItemRangeCurrentSingle:{type:"string"},msgItemRangeItems:{type:"string"},msgItemRangeOf:{type:"string"},msgItemRangeOfApprox:{type:"string"},msgItemRangeOfAtLeast:{type:"string"},pageInvalid:{type:"string"},tipNavFirstPage:{type:"string"},tipNavInputPage:{type:"string"},tipNavLastPage:{type:"string"},tipNavNextPage:{type:"string"},tipNavPageLink:{type:"string"},tipNavPreviousPage:{type:"string"}}}},methods:{firstPage:{},previousPage:{},nextPage:{},lastPage:{},page:{},loadNext:{},refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};t.__registerWidget("oj.ojPagingControl",e.oj.baseComponent,{version:"1.0.0",defaultElement:"<div>",widgetEventPrefix:"oj",options:{data:null,overflow:"fit",pageSize:25,pageOptions:{layout:["auto"],type:"numbers",maxPageLinks:6,orientation:"horizontal"},loadMoreOptions:{maxCount:500},mode:"page",ready:null},_BUNDLE_KEY:{_LABEL_ACC_PAGING:"labelAccPaging",_LABEL_ACC_NAV_FIRST_PAGE:"labelAccNavFirstPage",_LABEL_ACC_NAV_LAST_PAGE:"labelAccNavLastPage",_LABEL_ACC_NAV_NEXT_PAGE:"labelAccNavNextPage",_LABEL_ACC_NAV_PREVIOUS_PAGE:"labelAccNavPreviousPage",_LABEL_ACC_NAV_PAGE:"labelAccNavPage",_LABEL_LOAD_MORE:"labelLoadMore",_LABEL_LOAD_MORE_MAX_ROWS:"labelLoadMoreMaxRows",_LABEL_NAV_INPUT_PAGE:"labelNavInputPage",_LABEL_NAV_INPUT_PAGE_MAX:"labelNavInputPageMax",_LABEL_NAV_INPUT_PAGE_SUMMARY:"labelNavInputPageSummary",_MSG_ITEM_RANGE_CURRENT:"msgItemRangeCurrent",_MSG_ITEM_RANGE_CURRENT_SINGLE:"msgItemRangeCurrentSingle",_MSG_ITEM_RANGE_ITEMS:"msgItemRangeItems",_MSG_ITEM_RANGE_ATLEAST:"msgItemRangeOfAtLeast",_MSG_ITEM_RANGE_APPROX:"msgItemRangeOfApprox",_MSG_ITEM_RANGE_OF:"msgItemRangeOf",_TIP_NAV_INPUT_PAGE:"tipNavInputPage",_TIP_NAV_PAGE_LINK:"tipNavPageLink",_TIP_NAV_NEXT_PAGE:"tipNavNextPage",_TIP_NAV_PREVIOUS_PAGE:"tipNavPreviousPage",_TIP_NAV_FIRST_PAGE:"tipNavFirstPage",_TIP_NAV_LAST_PAGE:"tipNavLastPage",_ERR_PAGE_INVALID_SUMMARY:"pageInvalid.summary",_ERR_PAGE_INVALID_DETAIL:"pageInvalid.detail",_ERR_DATA_INVALID_TYPE_SUMMARY:"dataInvalidType.summary",_ERR_DATA_INVALID_TYPE_DETAIL:"dataInvalidType.detail",_ERR_MAXPAGELINKS_INVALID_SUMMARY:"maxPageLinksInvalid.summary",_ERR_MAXPAGELINKS_INVALID_DETAIL:"maxPageLinksInvalid.detail"},_MARKER_STYLE_CLASSES:{_WIDGET:"oj-component",_ACTIVE:"oj-active",_CLICKABLE_ICON:"oj-clickable-icon-nocontext",_DISABLED:"oj-disabled",_ENABLED:"oj-enabled",_FOCUS:"oj-focus",_FOCUS_HIGHLIGHT:"oj-focus-highlight",_HOVER:"oj-hover",_SELECTED:"oj-selected"},_CSS_CLASSES:{_PAGING_CONTROL_CLASS:"oj-pagingcontrol",_PAGING_CONTROL_ACC_LABEL_CLASS:"oj-pagingcontrol-acc-label",_PAGING_CONTROL_CONTENT_CLASS:"oj-pagingcontrol-content",_PAGING_CONTROL_LOAD_MORE_CLASS:"oj-pagingcontrol-loadmore",_PAGING_CONTROL_LOAD_MORE_LINK_CLASS:"oj-pagingcontrol-loadmore-link",_PAGING_CONTROL_LOAD_MORE_MAX_ROWS_CLASS:"oj-pagingcontrol-loadmore-max-rows",_PAGING_CONTROL_LOAD_MORE_RANGE_CLASS:"oj-pagingcontrol-loadmore-range",_PAGING_CONTROL_LOAD_MORE_RANGE_CURRENT_CLASS:"oj-pagingcontrol-loadmore-range-current",_PAGING_CONTROL_LOAD_MORE_RANGE_MAX_CLASS:"oj-pagingcontrol-loadmore-range-max",_PAGING_CONTROL_NAV_CLASS:"oj-pagingcontrol-nav",_PAGING_CONTROL_NAV_ARROW_CLASS:"oj-pagingcontrol-nav-arrow",_PAGING_CONTROL_NAV_ARROW_SECTION_CLASS:"oj-pagingcontrol-nav-arrow-section",_PAGING_CONTROL_NAV_PAGE_CLASS:"oj-pagingcontrol-nav-page",_PAGING_CONTROL_NAV_PAGE_ELLIPSIS_CLASS:"oj-pagingcontrol-nav-page-ellipsis",_PAGING_CONTROL_NAV_DOT_CLASS:"oj-pagingcontrol-nav-dot",_PAGING_CONTROL_NAV_DOT_BULLET_CLASS:"oj-pagingcontrol-nav-dot-bullet",_PAGING_CONTROL_NAV_PAGE_ACC_LABEL_CLASS:"oj-pagingcontrol-nav-page-acc-label",_PAGING_CONTROL_NAV_LABEL_CLASS:"oj-pagingcontrol-nav-label",_PAGING_CONTROL_NAV_INPUT_SECTION_CLASS:"oj-pagingcontrol-nav-input-section",_PAGING_CONTROL_NAV_INPUT_CLASS:"oj-pagingcontrol-nav-input",_PAGING_CONTROL_NAV_INPUT_MAX_CLASS:"oj-pagingcontrol-nav-input-max",_PAGING_CONTROL_NAV_INPUT_SUMMARY_CLASS:"oj-pagingcontrol-nav-input-summary",_PAGING_CONTROL_NAV_INPUT_SUMMARY_CURRENT_CLASS:"oj-pagingcontrol-nav-input-summary-current",_PAGING_CONTROL_NAV_INPUT_SUMMARY_MAX_CLASS:"oj-pagingcontrol-nav-input-summary-max",_PAGING_CONTROL_NAV_PAGES_SECTION_CLASS:"oj-pagingcontrol-nav-pages-section",_PAGING_CONTROL_NAV_PAGES_LINKS_CLASS:"oj-pagingcontrol-nav-pages-links",_PAGING_CONTROL_NAV_FIRST_CLASS:"oj-pagingcontrol-nav-first",_PAGING_CONTROL_NAV_FIRST_ACC_LABEL_CLASS:"oj-pagingcontrol-nav-first-acc-label",_PAGING_CONTROL_NAV_PREVIOUS_CLASS:"oj-pagingcontrol-nav-previous",_PAGING_CONTROL_NAV_PREVIOUS_ACC_LABEL_CLASS:"oj-pagingcontrol-nav-previous-acc-label",_PAGING_CONTROL_NAV_NEXT_CLASS:"oj-pagingcontrol-nav-next",_PAGING_CONTROL_NAV_NEXT_ACC_LABEL_CLASS:"oj-pagingcontrol-nav-next-acc-label",_PAGING_CONTROL_NAV_LAST_CLASS:"oj-pagingcontrol-nav-last",_PAGING_CONTROL_NAV_LAST_ACC_LABEL_CLASS:"oj-pagingcontrol-nav-last-acc-label",_PAGING_CONTROL_NAV_FIRST_ICON_CLASS:"oj-pagingcontrol-nav-first-icon",_PAGING_CONTROL_NAV_PREVIOUS_ICON_CLASS:"oj-pagingcontrol-nav-previous-icon",_PAGING_CONTROL_NAV_NEXT_ICON_CLASS:"oj-pagingcontrol-nav-next-icon",_PAGING_CONTROL_NAV_LAST_ICON_CLASS:"oj-pagingcontrol-nav-last-icon",_PAGING_CONTROL_NAV_FIRST_VERTICAL_ICON_CLASS:"oj-pagingcontrol-nav-first-vertical-icon",_PAGING_CONTROL_NAV_PREVIOUS_VERTICAL_ICON_CLASS:"oj-pagingcontrol-nav-previous-vertical-icon",_PAGING_CONTROL_NAV_NEXT_VERTICAL_ICON_CLASS:"oj-pagingcontrol-nav-next-vertical-icon",_PAGING_CONTROL_NAV_LAST_VERTICAL_ICON_CLASS:"oj-pagingcontrol-nav-last-vertical-icon",_WIDGET_ICON_CLASS:"oj-component-icon",_HIDDEN_CONTENT_ACC_CLASS:"oj-helper-hidden-accessible"},_DATA_ATTR_PAGE_NUM:"data-oj-pagenum",_OPTION_ENABLED:"enabled",_OPTION_DISABLED:"disabled",_TAB_INDEX:"tabindex",_MODE:{_LOAD_MORE:"loadMore",_PAGE:"page"},_PAGE_OPTION_LAYOUT:{_AUTO:"auto",_ALL:"all",_INPUT:"input",_RANGE_TEXT:"rangeText",_PAGES:"pages",_NAV:"nav"},_PAGE_OPTION_DEFAULT_MAX_PAGE_LINKS:6,_TYPE:{_NUMBERS:"numbers",_DOTS:"dots"},firstPage:function(){return null!=this._getData()?this._invokeDataPage(0,!1):this._getRejectPromise()},previousPage:function(){if(null!=this._getData()){var t=this._getCurrentPage();if(t>0)return this._invokeDataPage(t-1,!1)}return this._getRejectPromise()},nextPage:function(){if(null!=this._getData()){var t=this._getCurrentPage();if(this._isTotalSizeConfidenceActual()&&t+1<=this._getTotalPages()-1||this._getTotalPages()<0||!this._isTotalSizeConfidenceActual())return this._invokeDataPage(t+1,!1)}return this._getRejectPromise()},lastPage:function(){return null!=this._getData()&&this._getTotalPages()>0?this._invokeDataPage(this._getTotalPages()-1,!1):this._getRejectPromise()},page:function(t){return null!=this._getData()&&(this._isTotalSizeConfidenceActual()&&t<=this._getTotalPages()-1||this._getTotalPages()<0||!this._isTotalSizeConfidenceActual())?this._invokeDataPage(t,!1):this._getRejectPromise()},loadNext:function(){return null!=this._getData()?this._invokeDataFetchNext():this._getRejectPromise()},refresh:function(){this._super(),this._refresh()},getNodeBySubId:function(t){if(null==t)return this.element?this.element[0]:null;var e=t.subId,_=null;if("oj-pagingcontrol-nav-input"===e)_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS)[0];else if("oj-pagingcontrol-nav-input-max"===e)_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_MAX_CLASS)[0];else if("oj-pagingcontrol-nav-input-summary"===e)_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CLASS)[0];else if("oj-pagingcontrol-nav-input-summary-current"===e)_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CURRENT_CLASS)[0];else if("oj-pagingcontrol-nav-input-summary-max"===e)_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_MAX_CLASS)[0];else if("oj-pagingcontrol-nav-first"===e)_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_CLASS)[0];else if("oj-pagingcontrol-nav-next"===e)_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS)[0];else if("oj-pagingcontrol-nav-previous"===e)_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS)[0];else if("oj-pagingcontrol-nav-last"===e)_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_CLASS)[0];else if("oj-pagingcontrol-nav-page"===e){var n=t.index;_=this._getPagingControlContainer().find("["+this._DATA_ATTR_PAGE_NUM+"="+n+"]")[0]}else"oj-pagingcontrol-load-more-link"===e?_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_LINK_CLASS)[0]:"oj-pagingcontrol-load-more-range"===e?_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CLASS)[0]:"oj-pagingcontrol-load-more-range-current"===e?_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CURRENT_CLASS)[0]:"oj-pagingcontrol-load-more-range-max"===e?_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_MAX_CLASS)[0]:"oj-pagingcontrol-load-more-max-rows"===e&&(_=this._getPagingControlContainer().find("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_MAX_ROWS_CLASS)[0]);return void 0===_&&(_=null),_},getSubIdByNode:function(t){return e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS)?{subId:"oj-pagingcontrol-nav-input"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_MAX_CLASS)?{subId:"oj-pagingcontrol-nav-input-max"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CLASS)?{subId:"oj-pagingcontrol-nav-input-summary"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CURRENT_CLASS)?{subId:"oj-pagingcontrol-nav-input-summary-current"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_MAX_CLASS)?{subId:"oj-pagingcontrol-nav-input-summary-max"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_CLASS)?{subId:"oj-pagingcontrol-nav-first"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS)?{subId:"oj-pagingcontrol-nav-next"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS)?{subId:"oj-pagingcontrol-nav-previous"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_CLASS)?{subId:"oj-pagingcontrol-nav-last"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGE_CLASS)?{subId:"oj-pagingcontrol-nav-page",index:e(t).attr(this._DATA_ATTR_PAGE_NUM)}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_LINK_CLASS)?{subId:"oj-pagingcontrol-load-more-link"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CLASS)?{subId:"oj-pagingcontrol-load-more-range"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CURRENT_CLASS)?{subId:"oj-pagingcontrol-load-more-range-current"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_MAX_CLASS)?{subId:"oj-pagingcontrol-load-more-range-max"}:e(t).hasClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_MAX_ROWS_CLASS)?{subId:"oj-pagingcontrol-load-more-max-rows"}:null},_ComponentCreate:function(){this._super(),this._draw(),this._on(this._events)},_AfterCreate:function(){this._super(),this._registerSwipeHandler(),this._isInitFetch=!0},_SetupResources:function(){this._super(),this._registerResizeListener(this._getPagingControlContainer()),this._registerDataSourceEventListeners(),this._isInitFetch?(this._setInitialPage(),this._isInitFetch=!1):this._refresh()},_ReleaseResources:function(){this._super(),this._unregisterDataSourceEventListeners(),this._unregisterResizeListener()},_addComponentBusyState:function(t){var e=_.getContext(this.element[0]).getBusyContext(),n={description:"The component identified by '"+this.element.attr("id")+"' "+t},a=e.addBusyState(n);return this._busyStateResolvers||(this._busyStateResolvers=[]),this._busyStateResolvers.push(a),a},_removeComponentBusyState:function(t){if(this._busyStateResolvers){var e=this._busyStateResolvers.indexOf(t);e>=0&&(this._busyStateResolvers.splice(e,1),t())}},_destroy:function(){if(this._unregisterDataSourceEventListeners(),this._unregisterSwipeHandler(),this._busyStateResolvers){for(var t=this._busyStateResolvers.pop();t;)t(),t=this._busyStateResolvers.pop();this._busyStateResolvers=null}this._componentDestroyed=!0},_draw:function(){var t=this.options;this.element.addClass(this._CSS_CLASSES._PAGING_CONTROL_CLASS),this.element.addClass(this._MARKER_STYLE_CLASSES._WIDGET),this._createPagingControlAccLabel(),this._createPagingControlContent(),this._mode=t.mode,t.mode===this._MODE._LOAD_MORE?(this._createPagingControlLoadMore(),this._createPagingControlLoadMoreLink(),this._createPagingControlLoadMoreRange()):this._createPagingControlNav()},_events:{"mouseup .oj-pagingcontrol-loadmore-link":function(t){this.loadNext(),e(t.target).data("_mouseup",!0),t.preventDefault()},"click .oj-pagingcontrol-loadmore-link":function(t){e(t.target).data("_mouseup")?e(t.target).data("_mouseup",!1):this.loadNext(),t.preventDefault()},"click .oj-pagingcontrol-nav-dot":function(t){if(!e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)){var _=e(t.currentTarget).attr("data-oj-pagenum");this.page(_)}t.preventDefault()},"click .oj-pagingcontrol-nav-page":function(t){if(!e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)){var _=e(t.currentTarget).attr("data-oj-pagenum");this.page(_)}t.preventDefault()},"click .oj-pagingcontrol-nav-first":function(t){e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)||this.firstPage(),t.preventDefault()},"click .oj-pagingcontrol-nav-previous":function(t){e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)||this.previousPage(),t.preventDefault()},"click .oj-pagingcontrol-nav-next":function(t){e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)||this.nextPage(),t.preventDefault()},"click .oj-pagingcontrol-nav-last":function(t){e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)||this.lastPage(),t.preventDefault()},"keypress .oj-pagingcontrol-nav-input":function(t){13===t.which&&t.preventDefault()},"mousedown .oj-pagingcontrol-nav-first":function(t){e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)||e(t.target).addClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mousedown .oj-pagingcontrol-nav-previous":function(t){e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)||e(t.target).addClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mousedown .oj-pagingcontrol-nav-next":function(t){e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)||e(t.target).addClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mousedown .oj-pagingcontrol-nav-last":function(t){e(t.currentTarget).hasClass(this._MARKER_STYLE_CLASSES._DISABLED)||e(t.target).addClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseup .oj-pagingcontrol-nav-first":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseup .oj-pagingcontrol-nav-previous":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseup .oj-pagingcontrol-nav-next":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseup .oj-pagingcontrol-nav-last":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseleave .oj-pagingcontrol-nav-first":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseleave .oj-pagingcontrol-nav-previous":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseleave .oj-pagingcontrol-nav-next":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()},"mouseleave .oj-pagingcontrol-nav-last":function(t){e(t.target).removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),t.preventDefault()}},_refresh:function(){this._data!==this.options.data&&(this._clearCachedDataMetadata(),this._setInitialPage());var t=0,e=0;null!=this._data&&(e=this._data.getStartItemIndex()),null!=this._data&&0!==this._data.totalSize()&&this._data.getEndItemIndex()>=0&&(t=this._data.getEndItemIndex()-e+1),this._mode=this.options.mode,this.options.mode===this._MODE._LOAD_MORE?this._refreshPagingControlLoadMore(t,e):this._refreshPagingControlNav(t,e)},_setOption:function(t,e){if(this._superApply(arguments),this._invokeDataPage(0,!0),this.options.mode!==this._MODE._LOAD_MORE&&"pageOptions"===t){var _=this._getPagingControlContent();null!=_&&(this._unregisterChildStateListeners(_),this._unregisterSwipeHandler(),_.empty()),this._clearCachedDomPagingControlNav(),this._createPagingControlNav(),this._registerSwipeHandler()}this._queueRefresh()},_clearCachedDataMetadata:function(){null!=this._data&&this._unregisterDataSourceEventListeners(),this._data=null},_clearCachedDomLoadMore:function(){this._cachedDomPagingControlLoadMore=null,this._cachedDomPagingControlLoadMoreLink=null,this._cachedDomPagingControlLoadMoreRange=null},_clearCachedDomPagingControlNav:function(){this._cachedDomPagingControlNav=null,this._cachedDomPagingControlNavInput=null,this._cachedDomPagingControlNavInputSummary=null},_createNavArrow:function(t,_,n,a,i,s){var o=e(document.createElement("a"));o.attr("role","button"),o.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_ARROW_CLASS),o.addClass(t),o.addClass(_),o.addClass(this._CSS_CLASSES._WIDGET_ICON_CLASS),o.addClass(this._MARKER_STYLE_CLASSES._CLICKABLE_ICON),o.addClass(this._MARKER_STYLE_CLASSES._DISABLED),o.attr("aria-disabled","true");var r=this.getTranslatedString(n);this._AddHoverable(o),this._focusable({element:o,applyHighlight:!0}),o.attr("title",r),o.attr(this._TAB_INDEX,"0"),o.attr("href","#"),o.attr("oncontextmenu","return false;");var S=this.getTranslatedString(a);o.attr("aria-label",S);var l=this._createAccLabelSpan(S,i);return o.append(l),s&&o.css("display","block"),o},_disableNavArrow:function(t,e){e?(t.addClass(this._MARKER_STYLE_CLASSES._DISABLED),t.removeClass(this._MARKER_STYLE_CLASSES._ENABLED),t.removeClass(this._MARKER_STYLE_CLASSES._FOCUS_HIGHLIGHT),t.removeClass(this._MARKER_STYLE_CLASSES._FOCUS),t.attr("aria-disabled","true"),t.attr("tabindex","-1")):(t.addClass(this._MARKER_STYLE_CLASSES._ENABLED),t.removeClass(this._MARKER_STYLE_CLASSES._DISABLED),t.removeAttr("aria-disabled"),t.attr(this._TAB_INDEX,"0"))},_getCurrentPage:function(){var t=this._getData(),e=0;return null!=t&&(e=t.getPage()),e},_getData:function(){return this._data||null==this.options.data||(this._data=this.options.data,this._dataMetadata=this.options.data,this._registerDataSourceEventListeners()),this._data},_getItemRange:function(t,_){var n=_>=0?_:0,a=e(document.createElement("span")),i=e(document.createElement("span"));this.options.mode===this._MODE._LOAD_MORE?i.addClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CURRENT_CLASS):i.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CURRENT_CLASS),a.append(i);var s=this._getData();if(null!=s&&null!=s.totalSize()&&null!=t){var o,r,S=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_CURRENT_SINGLE,{pageFrom:n}),l=parseInt(_,10)+parseInt(t,10);if(n=l>0?n+1:0,-1!==s.totalSize()){if(n===(l=l>s.totalSize()?s.totalSize():l))S=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_CURRENT_SINGLE,{pageFrom:n});else{if(n>l)return a;S=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_CURRENT,{pageFrom:n,pageTo:l})}var A=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_OF),g=null;"atLeast"===s.totalSizeConfidence()?g=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_ATLEAST):"estimate"===s.totalSizeConfidence()&&(g=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_APPROX));var C=e(document.createElement("span"));null==g?C.text(" "+A+" "):C.text(" "+g+" "),a.append(C);var h=e(document.createElement("span"));this.options.mode===this._MODE._LOAD_MORE?h.addClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_MAX_CLASS):h.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_MAX_CLASS),h.text(s.totalSize()),a.append(h),o=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_ITEMS),(r=e(document.createElement("span"))).text(" "+o),a.append(r)}else S=0===t?this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_CURRENT_SINGLE,{pageFrom:0}):this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_CURRENT,{pageFrom:n,pageTo:l}),o=this.getTranslatedString(this._BUNDLE_KEY._MSG_ITEM_RANGE_ITEMS),(r=e(document.createElement("span"))).text(" "+o),a.append(r);i.text(S)}return a},_getMaxPageLinks:function(){var t=this.options.pageOptions.maxPageLinks;return this.options.pageOptions.type===this._TYPE._DOTS?t=Number.MAX_VALUE:t||(t=this._PAGE_OPTION_DEFAULT_MAX_PAGE_LINKS),t},_getMaxPageVal:function(t){var e=0;if(this._getTotalPages()>0&&this._isTotalSizeConfidenceActual())e=this._getTotalPages();else if(t>0){var _=this._getData();e=null==_||"atLeast"!==_.totalSizeConfidence()&&"estimate"!==_.totalSizeConfidence()?this._getCurrentPage()+2:this._getTotalPages()+1}else e=this._getCurrentPage()+1;return e},_getRejectPromise:function(){return Promise.reject()},_getTotalPages:function(){var t=this._getData(),e=0;return null!=t&&(e=t.getPageCount()),e=e>=-1?e:0},_handleDataFetchEnd:function(t){this._handleFocusAfterFetch(),this._queueRefresh()},_handleFocusAfterFetch:function(){var t=e(document.activeElement),_=this;if(t.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGE_CLASS)){var n=parseInt(t.attr("data-oj-pagenum"),10);setTimeout(function(){if(n>=0){var t=n+1,e=n-1,a=_._getPagingControlContent().find("a[data-oj-pagenum="+t+"]");if(null!=a&&a.length>0)a.focus();else{var i=_._getPagingControlContent().find("a[data-oj-pagenum="+e+"]");null!=i&&i.length>0&&i.focus()}}n=null,_=null},100)}else t.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_CLASS)?setTimeout(function(){_._getPagingControlContent().find("."+_._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS).focus(),_=null},100):t.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS)?setTimeout(function(){var t=_._getPagingControlContent().find("."+_._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS);t.hasClass(_._MARKER_STYLE_CLASSES._DISABLED)?_._getPagingControlContent().find("."+_._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS).focus():t.focus(),_=null},100):t.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS)?setTimeout(function(){var t=_._getPagingControlContent().find("."+_._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS);t.hasClass(_._MARKER_STYLE_CLASSES._DISABLED)?_._getPagingControlContent().find("."+_._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS).focus():t.focus(),_=null},100):t.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_CLASS)?setTimeout(function(){_._getPagingControlContent().find("."+_._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS).focus(),_=null},100):t.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS)?setTimeout(function(){_._getPagingControlContent().find("."+_._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS).focus(),_=null},100):t.hasClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_DOT_CLASS)&&setTimeout(function(){var t,e=_._getPagingControlContent().find("."+_._CSS_CLASSES._PAGING_CONTROL_NAV_DOT_CLASS);e.each(function(e,_){"div"===_.localName&&(t=e)}),null!=t&&(t===e.length-1?e[Math.max(t-1,0)]:e[t+1]).focus(),_=null},100)},_handleDataPage:function(t){t.page!==t.previousPage&&(this._handleFocusAfterFetch(),this._queueRefresh())},_handleDataReset:function(t){this._invokeDataPage(0,!1)},_handleDataRefresh:function(t){this._queueRefresh()},_handleDataSort:function(t){this.options.mode===this._MODE._LOAD_MORE&&this._handleDataReset(t)},_handleDataRowAdd:function(t){if(this._isOperationOnCurrentPage(t))return this.options.mode===this._MODE._PAGE?void this._invokeDataPage(this._getCurrentPage(),!0):void this._invokeDataFetchCurrent();this._queueRefresh()},_handleDataRowRemove:function(t){if(this.options.mode===this._MODE._PAGE){if(this._getTotalPages()>0&&this._getCurrentPage()>this._getTotalPages()-1)return void this._invokeDataPage(this._getTotalPages()-1,!0);if(this._isOperationOnCurrentPage(t))return void this._invokeDataPage(this._getCurrentPage(),!0)}else if(this._isOperationOnCurrentPage(t))return void this._invokeDataFetchCurrent();this._queueRefresh()},_handlePageChange:function(t,e){if("value"===e.option){var _=e.value;_!==this._getCurrentPage()+1&&!isNaN(_)&&_>0&&(_=Math.round(_),this.page(_-1))}},_invokeDataPage:function(t,e){try{t=parseInt(t,10)}catch(t){return Promise.reject(t)}this._currentStartIndex=0;var _=this;return setTimeout(function(){_._resetPagingControlNavInput()},0),e?(this._stopFetchAction=!1,this._queuePageFetch(t),Promise.resolve()):this._invokeDataSetPage(t)},_invokeDataSetPage:function(t){var e=this._getData(),_=this;return new Promise(function(n,a){if(null!=e){var i=_._addComponentBusyState("is setting page.");e.setPage(t,{pageSize:_.options.pageSize}).then(function(){_._removeComponentBusyState(i),_=null,i=null,n(null)},function(t){_._removeComponentBusyState(i),_=null,i=null,a(t)}),e=null}else _=null,n(null)})},_invokeDataFetchNext:function(){var t=this.options.pageSize;return this._currentStartIndex?this._currentStartIndex=this._currentStartIndex+t:this._currentStartIndex=t,this._invokeDataFetch({startIndex:this._currentStartIndex,pageSize:t})},_invokeDataFetch:function(t){var e=this._getData();if(!this._isTotalSizeConfidenceActual()||e.totalSize()>this._currentStartIndex&&this._isTotalSizeConfidenceActual()){var _=this;return new Promise(function(n,a){var i=_._addComponentBusyState("is fetching data.");e.fetch(t).then(function(t){_._removeComponentBusyState(i),_=null,i=null,n(t)},function(){_._removeComponentBusyState(i),_=null,i=null,a(null)}),e=null})}return Promise.resolve()},_invokeDataFetchCurrent:function(){var t=this.options.pageSize;return this._invokeDataFetch({startIndex:0,pageSize:this._currentStartIndex+t})},_isOperationOnCurrentPage:function(t){if(null==t)return!1;var e=this._getData(),_=e.getStartItemIndex();this.options.mode===this._MODE._LOAD_MORE&&(_=0);var n,a=e.getEndItemIndex();if(null!=t.index){if((n=t.index)>=_&&n<=a)return!0}else if(null!=t.indexes){var i;for(i=0;i<t.indexes.length;i++)if((n=t.indexes[i])>=_&&n<=a)return!0}return!1},_isTotalSizeConfidenceActual:function(){var t=this._getData();return null!=t&&"actual"===t.totalSizeConfidence()},_queuePageFetch:function(t){var e=this;this._pendingPageFetch||(this._pageFetchCount=0,this._pendingPageFetch=Promise.resolve()),this._pageFetchCount+=1,this._pageFetchLatestPage=t,this._pendingPageFetch=this._pendingPageFetch.then(function(){e._pageFetchCount-=1,e._stopFetchAction?e._stopFetchAction=!1:0!==e._pageFetchCount||e._componentDestroyed||(e._pendingPageFetch=void 0,e._invokeDataSetPage(e._pageFetchLatestPage).then(function(){e=null},function(t){e._pageFetchCount-=1,e._pageFetchCount<=0&&(e._pendingPageFetch=void 0,i.error(t),e=null)}))},function(t){e._pageFetchCount-=1,e._pageFetchCount<=0&&(e._pendingPageFetch=void 0,i.error(t),e=null)})},_queueRefresh:function(){var t=this;this._pendingRefreshes||(this._refreshCount=0,this._pendingRefreshes=Promise.resolve(),this._setComponentNotReady()),this._refreshCount+=1,this._pendingRefreshes=this._pendingRefreshes.then(function(){t._refreshCount-=1,0===t._refreshCount&&(t._pendingRefreshes=void 0,t._componentDestroyed||(t._refresh(),t._trigger("ready")),t._setComponentReady(),t=null)},function(e){t._refreshCount-=1,0===t._refreshCount&&(t._pendingRefreshes=void 0,i.error(e),t._setComponentReady(),t=null)})},_refreshPagingControlLoadMore:function(t,e){var _=this._getData(),n=this._getPagingControlLoadMore(),a=e+t,i=!(null!=_&&(a===_.totalSize()&&this._isTotalSizeConfidenceActual()||0===_.totalSize()));if(!n||i){var s=this._getPagingControlContent();null!=s&&s.empty(),this._clearCachedDomLoadMore(),n=this._createPagingControlLoadMore(),a=-1,null!=t&&(a=e+t),a<0||a<this.options.loadMoreOptions.maxCount?(this._createPagingControlLoadMoreLink(),this._createPagingControlLoadMoreRange(t,e)):this._createPagingControlLoadMoreMaxRows()}i||n.css("display","none")},_refreshPagingControlNav:function(t,e){var _=this.options.overflow;if(this._refreshPagingControlNavMaxPageVal(t,e),this._refreshPagingControlNavLabel(),this._refreshPagingControlNavInput(),this._refreshPagingControlNavSummaryLabel(t,e),this._refreshPagingControlNavPages(t,e),this._refreshPagingControlNavArrows(t,e),"fit"===_){var n=this.element.width(),a=this._getPagingControlNavArrowSection(),i=this._getPagingControlNavInputSection(),s=this._getPagingControlNavPageLinks(),o=this._getPagingControlNavInputSummary(),r=null!=a?a[0].offsetWidth:0,S=null!=i?i[0].offsetWidth:0,l=null!=s?s.width():0,A=null!=o?o.width():0,g=r+S+A;g>n?g-l<=n?s.css("display","none"):g-l-A<=n?(null!=s&&s.css("display","none"),null!=o&&o.css("display","none")):(null!=s&&s.css("display","none"),null!=o&&o.css("display","none"),null!=a&&a.css("display","none")):g>0&&(null!=s&&s.css("display",""),null!=o&&o.css("display",""),null!=a&&a.css("display",""))}},_refreshPagingControlNavArrows:function(t,_){var n=this.options.pageSize,a=this._getPagingControlNavArrowSection(),i=a.children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_CLASS);if(i&&i.length>0){i=e(i[0]);var s=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_FIRST_PAGE);i.attr("title",s),this._disableNavArrow(i,0===this._getCurrentPage())}var o=a.children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS);if(o&&o.length>0){o=e(o[0]);var r=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_PREVIOUS_PAGE);o.attr("title",r),this._disableNavArrow(o,0===this._getCurrentPage())}var S=a.children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_CLASS);if(S&&S.length>0){S=e(S[0]);var l=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_LAST_PAGE);S.attr("title",l),this._disableNavArrow(S,this._getCurrentPage()===this._getTotalPages()-1||this._getTotalPages()<=0||!this._isTotalSizeConfidenceActual())}var A=a.children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS);if(A&&A.length>0){A=e(A[0]);var g=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_NEXT_PAGE);A.attr("title",g),this._disableNavArrow(A,this._getCurrentPage()===this._getTotalPages()-1&&this._isTotalSizeConfidenceActual()||0===this._getTotalPages()||this._getTotalPages()<0&&0===t||this._getTotalPages()<0&&t<n)}},_refreshPagingControlNavPages:function(t,_){var n=this._getPagingControlNav().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGES_SECTION_CLASS);null!=n&&n.length>0&&(n=e(n.get(0)),this._unregisterChildStateListeners(n),n.empty(),this._createPagingControlNavPages(n,this._getMaxPageLinks(),t,_))},_refreshPagingControlNavLabel:function(){var t=this._getPagingControlNavInputSection();if(null!=t){var _=t.children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_LABEL_CLASS);if(null!=_&&_.length>0){_=e(_[0]);var n=this.getTranslatedString(this._BUNDLE_KEY._LABEL_NAV_INPUT_PAGE);_.text(n)}}},_refreshPagingControlNavInput:function(){var t=this._getPagingControlNavInput();if(null!=t){var e=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_INPUT_PAGE);t.attr("title",e),t.ojInputText("option","title",e)}},_refreshPagingControlNavSummaryLabel:function(t,_){var n=this._getPagingControlNav().children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CLASS);if(null!=n&&n.length>0){var a=this._getItemRange(t,_);(n=e(n.get(0))).empty(),a.text().length>0&&(n.append("("),n.append(a),n.append(")"))}},_refreshPagingControlNavMaxPageVal:function(t,_){var n,a=this._getMaxPageVal(t),i=this._getPagingControlNav().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_MAX_CLASS);if(null!=i&&i.length>0)i=e(i.get(0)),this._getTotalPages()>0&&this._isTotalSizeConfidenceActual()?(n=this.getTranslatedString(this._BUNDLE_KEY._LABEL_NAV_INPUT_PAGE_MAX,{pageMax:a}),i.text(n)):i.empty();else{var s=this._getPagingControlNavInputSection();null!=s&&this._getTotalPages()>0&&this._isTotalSizeConfidenceActual()&&a>=this._getCurrentPage()+1&&((i=e(document.createElement("span"))).addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_MAX_CLASS),i.addClass("oj-label-inline"),s.append(i),n=this.getTranslatedString(this._BUNDLE_KEY._LABEL_NAV_INPUT_PAGE_MAX,{pageMax:a}),i.text(n))}var o=this._getPagingControlNav().find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS);if(null!=o&&o.length>0){(o=e(o.get(0))).ojInputText(),o.ojInputText("option","validators",[{type:"numberRange",options:{min:1,max:a}}]);var r=o.ojInputText("option","messagesShown");null!=r&&0!==r.length||this._resetPagingControlNavInput(),1===a?o.ojInputText("option","readOnly",!0):o.ojInputText("option","readOnly",!1)}},_registerDataSourceEventListeners:function(){var e=this._getData();if(null!=e){this._unregisterDataSourceEventListeners(),this._dataSourceEventHandlers=[],this._dataSourceEventHandlers.push({eventType:t.PagingModel.EventType.PAGE,eventHandler:this._handleDataPage.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingModel.EventType.PAGECOUNT,eventHandler:this._handleDataRefresh.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingTableDataSource.EventType.ADD,eventHandler:this._handleDataRowAdd.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingTableDataSource.EventType.REMOVE,eventHandler:this._handleDataRowRemove.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingTableDataSource.EventType.RESET,eventHandler:this._handleDataReset.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingTableDataSource.EventType.REFRESH,eventHandler:this._handleDataRefresh.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingTableDataSource.EventType.SYNC,eventHandler:this._handleDataFetchEnd.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.PagingTableDataSource.EventType.SORT,eventHandler:this._handleDataSort.bind(this)});for(var _=0;_<this._dataSourceEventHandlers.length;_++){var n=e.on(this._dataSourceEventHandlers[_].eventType,this._dataSourceEventHandlers[_].eventHandler);n&&(this._dataSourceEventHandlers[_].eventHandler=n)}}},_registerResizeListener:function(e){if(!this._resizeListener){var _=this;this._resizeListener=function(t,e){_._queueRefresh()}}this._resizeListenerElement||(t.DomUtils.addResizeListener(e[0],this._resizeListener,50),this._resizeListenerElement=e)},_registerSwipeHandler:function(){if(t.DomUtils.isTouchSupported()&&this.options.mode===this._MODE._PAGE){var e,_=this._getPagingControlNav();if(null!=_){var n="vertical"===this.options.pageOptions.orientation,i=this;n?(e={recognizers:[[a.Swipe,{direction:a.DIRECTION_VERTICAL}]]},this._hammerSwipeUp=_.ojHammer(e).on("swipeup",function(t){t.preventDefault(),i.nextPage()}),this._hammerSwipeDown=_.ojHammer(e).on("swipedown",function(t){t.preventDefault(),i.previousPage()})):(e={recognizers:[[a.Swipe,{direction:a.DIRECTION_HORIZONTAL}]]},this._hammerSwipeLeft=_.ojHammer(e).on("swipeleft",function(t){t.preventDefault(),i.nextPage()}),this._hammerSwipeRight=_.ojHammer(e).on("swiperight",function(t){t.preventDefault(),i.previousPage()}))}}},_resetPagingControlNavInput:function(){var t=this._getPagingControlNavInput();if(null!=t&&t.hasClass("oj-component-initnode"))try{t.ojInputText("option","value",this._getCurrentPage()+1)}catch(t){}},_setComponentNotReady:function(){this._readyResolveFunc||(this._readyResolveFunc=this._addComponentBusyState("is being loaded."))},_setComponentReady:function(){this._readyResolveFunc&&(this._removeComponentBusyState(this._readyResolveFunc),this._readyResolveFunc=null)},_setInitialPage:function(){var t=this._getCurrentPage();t>0?this._invokeDataPage(t,!0):this._invokeDataPage(0,!0)},_unregisterDataSourceEventListeners:function(){var t=this._getData();if(null!=this._dataSourceEventHandlers&&null!=t)for(var e=0;e<this._dataSourceEventHandlers.length;e++)t.off(this._dataSourceEventHandlers[e].eventType,this._dataSourceEventHandlers[e].eventHandler)},_unregisterChildStateListeners:function(t){var e=this;t.find("*").each(function(){e._UnregisterChildNode(this)}),e=null},_unregisterResizeListener:function(){null!=this._resizeListenerElement&&(t.DomUtils.removeResizeListener(this._resizeListenerElement,this._resizeListener),this._resizeListenerElement=null)},_unregisterSwipeHandler:function(){t.DomUtils.isTouchSupported()&&("vertical"===this.options.pageOptions.orientation?(null!=this._hammerSwipeUp&&(this._hammerSwipeUp.off("swipeup"),this._hammerSwipeUp=null),null!=this._hammerSwipeDown&&(this._hammerSwipeDown.off("swipedown"),this._hammerSwipeDown=null)):(null!=this._hammerSwipeLeft&&(this._hammerSwipeLeft.off("swipeleft"),this._hammerSwipeLeft=null),null!=this._hammerSwipeRight&&(this._hammerSwipeRight.off("swiperight"),this._hammerSwipeRight=null)))},_createAccLabelSpan:function(t,_){var n=e(document.createElement("span"));return n.addClass(_),n.addClass(this._CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS),n.text(t),n},_createPagingControlAccLabel:function(){var t=this._getPagingControlContainer(),e=this.getTranslatedString(this._BUNDLE_KEY._LABEL_ACC_PAGING),_=this._createAccLabelSpan(e,this._CSS_CLASSES._PAGING_CONTROL_ACC_LABEL_CLASS),n=this.element.attr("id")+"_oj_pgCtrl_acc_label";return _.attr("id",n),t.append(_),_},_createPagingControlAccNavPageLabel:function(){var t=this.getTranslatedString(this._BUNDLE_KEY._LABEL_ACC_NAV_PAGE);return this._createAccLabelSpan(t,this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGE_ACC_LABEL_CLASS)},_createPagingControlContent:function(){var t=this._getPagingControlContainer(),_=e(document.createElement("div"));_.addClass(this._CSS_CLASSES._PAGING_CONTROL_CONTENT_CLASS);var n=this._getPagingControlAccLabel().attr("id");return _.attr("role","navigation"),_.attr("aria-labelledby",n),t.append(_),_},_createPagingControlLoadMore:function(){var t=this._getPagingControlContent(),_=e(document.createElement("div"));return _.addClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_CLASS),t.append(_),_},_createPagingControlLoadMoreLink:function(){var t=this._getPagingControlLoadMore(),_=e(document.createElement("a"));_.addClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_LINK_CLASS);var n=this.getTranslatedString(this._BUNDLE_KEY._LABEL_LOAD_MORE);return _.text(n),_.attr(this._TAB_INDEX,"0"),_.attr("href","#"),t.append(_),_},_createPagingControlLoadMoreMaxRows:function(){var t=this._getPagingControlLoadMore(),_=e(document.createElement("span"));_.addClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_MAX_ROWS_CLASS);var n=this.getTranslatedString(this._BUNDLE_KEY._LABEL_LOAD_MORE_MAX_ROWS,{maxRows:this.options.loadMoreOptions.maxCount});return _.text(n),t.append(_),_},_createPagingControlLoadMoreRange:function(t,_){var n=this._getPagingControlLoadMore(),a=e(document.createElement("span"));a.addClass(this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_RANGE_CLASS);var i=this._getItemRange(t,_);return a.append(i),n.append(a),a},_createPagingControlNav:function(t,_){var n=this.options,a="vertical"===this.options.pageOptions.orientation,i="dots"===this.options.pageOptions.type,s=n.pageOptions.layout;null==s&&(s=[this._PAGE_OPTION_LAYOUT._AUTO]);var o=this._getPagingControlContent(),r=e(document.createElement("div"));if(r.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_CLASS),o.append(r),-1!==e.inArray(this._PAGE_OPTION_LAYOUT._AUTO,s)&&!i||-1!==e.inArray(this._PAGE_OPTION_LAYOUT._ALL,s)||-1!==e.inArray(this._PAGE_OPTION_LAYOUT._INPUT,s)){var S=e(document.createElement("div"));S.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SECTION_CLASS),r.append(S);var l=e(document.createElement("label"));l.attr("for",this.element.attr("id")+"_nav_input"),l.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_LABEL_CLASS),l.addClass("oj-label-inline");var A=this.getTranslatedString(this._BUNDLE_KEY._LABEL_NAV_INPUT_PAGE);l.text(A),S.append(l);var g=e(document.createElement("input"));g.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS);var C=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_INPUT_PAGE);g.attr("id",this.element.attr("id")+"_nav_input"),g.attr("title",C),g.attr(this._TAB_INDEX,"0"),g.val(this._getCurrentPage()+1),S.append(g);var h=this._getMaxPageVal(t);if(this._getTotalPages()>0&&this._isTotalSizeConfidenceActual()){var L=e(document.createElement("span"));L.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_MAX_CLASS),L.addClass("oj-label-inline");var N=this.getTranslatedString(this._BUNDLE_KEY._LABEL_NAV_INPUT_PAGE_MAX,{pageMax:h});L.text(N),S.append(L)}g.ojInputText({displayOptions:{messages:["notewindow"],converterHint:["notewindow"],validatorHint:["notewindow"]},rootAttributes:{style:"width: auto; min-width: 0;"},validators:[{type:"numberRange",options:{min:1,max:h}}]}).attr("data-oj-internal",""),g.on({ojoptionchange:this._handlePageChange.bind(this)})}if(-1!==e.inArray(this._PAGE_OPTION_LAYOUT._AUTO,s)&&!i||-1!==e.inArray(this._PAGE_OPTION_LAYOUT._ALL,s)||-1!==e.inArray(this._PAGE_OPTION_LAYOUT._RANGE_TEXT,s)){var u=e(document.createElement("span"));u.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CLASS),u.addClass("oj-label-inline");var E=this._getItemRange(t,_);E.text().length>0&&(u.append("("),u.append(E),u.append(")")),r.append(u)}var c=e(document.createElement("div"));if(c.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_ARROW_SECTION_CLASS),r.append(c),-1!==e.inArray(this._PAGE_OPTION_LAYOUT._AUTO,s)&&!i||-1!==e.inArray(this._PAGE_OPTION_LAYOUT._ALL,s)||-1!==e.inArray(this._PAGE_OPTION_LAYOUT._NAV,s)){var d=this._createNavArrow(this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_CLASS,a?this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_VERTICAL_ICON_CLASS:this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_ICON_CLASS,this._BUNDLE_KEY._TIP_NAV_FIRST_PAGE,this._BUNDLE_KEY._LABEL_ACC_NAV_FIRST_PAGE,this._CSS_CLASSES._PAGING_CONTROL_NAV_FIRST_ACC_LABEL_CLASS,a);c.append(d);var P=this._createNavArrow(this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_CLASS,a?this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_VERTICAL_ICON_CLASS:this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_ICON_CLASS,this._BUNDLE_KEY._TIP_NAV_PREVIOUS_PAGE,this._BUNDLE_KEY._LABEL_ACC_NAV_PREVIOUS_PAGE,this._CSS_CLASSES._PAGING_CONTROL_NAV_PREVIOUS_ACC_LABEL_CLASS,a);c.append(P)}if(-1!==e.inArray(this._PAGE_OPTION_LAYOUT._AUTO,s)||-1!==e.inArray(this._PAGE_OPTION_LAYOUT._ALL,s)||-1!==e.inArray(this._PAGE_OPTION_LAYOUT._PAGES,s)){var p=e(document.createElement("div"));p.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGES_SECTION_CLASS),c.append(p),this._createPagingControlNavPages(p,this._getMaxPageLinks(),t,_)}if(-1!==e.inArray(this._PAGE_OPTION_LAYOUT._AUTO,s)&&!i||-1!==e.inArray(this._PAGE_OPTION_LAYOUT._ALL,s)||-1!==e.inArray(this._PAGE_OPTION_LAYOUT._NAV,s)){var T=this._createNavArrow(this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_CLASS,a?this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_VERTICAL_ICON_CLASS:this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_ICON_CLASS,this._BUNDLE_KEY._TIP_NAV_NEXT_PAGE,this._BUNDLE_KEY._LABEL_ACC_NAV_NEXT_PAGE,this._CSS_CLASSES._PAGING_CONTROL_NAV_NEXT_ACC_LABEL_CLASS,a);c.append(T);var O=this._createNavArrow(this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_CLASS,a?this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_VERTICAL_ICON_CLASS:this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_ICON_CLASS,this._BUNDLE_KEY._TIP_NAV_LAST_PAGE,this._BUNDLE_KEY._LABEL_ACC_NAV_LAST_PAGE,this._CSS_CLASSES._PAGING_CONTROL_NAV_LAST_ACC_LABEL_CLASS,a);c.append(O)}return r},_createPagingControlNavPages:function(t,_,n,a){if(_<5){var i=this.getTranslatedString(this._BUNDLE_KEY._ERR_MAXPAGELINKS_INVALID_SUMMARY),s=this.getTranslatedString(this._BUNDLE_KEY._ERR_MAXPAGELINKS_INVALID_DETAIL);throw this._stopFetchAction=!0,new Error(i+"\n"+s)}var o=e(document.createElement("div"));o.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGES_LINKS_CLASS),t.append(o);var r=this._getTotalPages(),S=this._getCurrentPage(),l=this.options.pageSize,A=_,g=[];if(S>=0){var C;if(this._isTotalSizeConfidenceActual()&&r<=A)for(g[0]=0,C=1;C<r;C++)g[C]=C;else{g.push(0),0!==S&&g.push(S),S!==r-1&&this._isTotalSizeConfidenceActual()&&g.push(r-1),A-=g.length;var h=S-1,L=1;for(!this._isTotalSizeConfidenceActual()||S!==r-1&&S!==r-2||(L=0);A>L&&h>=1;)g.push(h),h-=1,A-=1;var N=S+1;for(-1===r&&(A=n>0&&n>=l?1:0);A>0&&(N<=r||-1===r);)g.push(N),N+=1,A-=1}for(g.sort(function(t,e){return t-e}),C=0;C<g.length;C++){var u=g[C];this._createPagingControlNavPage(o,u),C!==g.length-1&&u!==g[C+1]-1&&this._createPagingControlNavPage(o,-1)}!this._isTotalSizeConfidenceActual()&&n>=l&&this._createPagingControlNavPage(o,-1)}return o},_createPagingControlNavPage:function(t,_){var n=this._getCurrentPage(),a=null,i="rtl"===this._GetReadingDirection(),s="vertical"===this.options.pageOptions.orientation,o="dots"===this.options.pageOptions.type;if(-1===_)(a=e(document.createElement("span"))).addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGE_ELLIPSIS_CLASS),a.text("..."),t.append(a);else{n===_?((a=e(document.createElement("div"))).addClass(this._MARKER_STYLE_CLASSES._SELECTED),a.addClass(this._MARKER_STYLE_CLASSES._ACTIVE),a.addClass(this._MARKER_STYLE_CLASSES._DISABLED),a.removeClass(this._MARKER_STYLE_CLASSES._ENABLED)):((a=e(document.createElement("a"))).removeClass(this._MARKER_STYLE_CLASSES._SELECTED),a.removeClass(this._MARKER_STYLE_CLASSES._ACTIVE),a.removeClass(this._MARKER_STYLE_CLASSES._DISABLED),a.addClass(this._MARKER_STYLE_CLASSES._ENABLED),a.attr(this._TAB_INDEX,"0"),a.attr("href","#")),a.attr("data-oj-pagenum",_),o?a.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_DOT_CLASS):a.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGE_CLASS);var r=this.getTranslatedString(this._BUNDLE_KEY._TIP_NAV_PAGE_LINK,{pageNum:(_+1).toString()});this._AddHoverable(a),this._focusable({element:a,applyHighlight:!0}),a.attr("title",r),a.attr("oncontextmenu","return false;");var S=this._createPagingControlAccNavPageLabel();a.append(S);var l=e(document.createElement("span"));if(l.append((_+1).toString()),o){l.addClass(this._CSS_CLASSES._HIDDEN_CONTENT_ACC_CLASS);var A=e(document.createElement("span"));A.addClass(this._CSS_CLASSES._PAGING_CONTROL_NAV_DOT_BULLET_CLASS),this._AddHoverable(A),n===_&&(A.addClass(this._MARKER_STYLE_CLASSES._SELECTED),A.addClass(this._MARKER_STYLE_CLASSES._ACTIVE)),a.append(A)}else this._AddHoverable(a);var g=i?"rtl":"ltr";l.attr("dir",g),a.append(l),s&&a.css("display","block"),t.append(a)}return a},_getPagingControlAccLabel:function(){var t=this._getPagingControlContainer(),_=null;return t&&(_=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_ACC_LABEL_CLASS))&&_.length>0&&(_=e(_.get(0))),_},_getPagingControlContainer:function(){return e(this.element)},_getPagingControlContent:function(){if(!this._cachedDomPagingControlContent){var t=this._getPagingControlContainer(),_=null;t&&(_=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_CONTENT_CLASS))&&_.length>0&&(this._cachedDomPagingControlContent=e(_.get(0)))}return this._cachedDomPagingControlContent},_getPagingControlLoadMore:function(){if(!this._cachedDomPagingControlLoadMore){var t=this._getPagingControlContent(),_=null;t&&(_=t.children("."+this._CSS_CLASSES._PAGING_CONTROL_LOAD_MORE_CLASS))&&_.length>0&&(this._cachedDomPagingControlLoadMore=e(_.get(0)))}return this._cachedDomPagingControlLoadMore},_getPagingControlNav:function(){if(!this._cachedDomPagingControlNav){var t=this._getPagingControlContent(),_=null;t&&(_=t.children("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_CLASS))&&_.length>0&&(this._cachedDomPagingControlNav=e(_.get(0)))}return this._cachedDomPagingControlNav},_getPagingControlNavInput:function(){if(!this._cachedDomPagingControlNavInput){var t=this._getPagingControlNav(),_=null;t&&(_=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_CLASS))&&_.length>0&&(this._cachedDomPagingControlNavInput=e(_.get(0)))}return this._cachedDomPagingControlNavInput},_getPagingControlNavInputSummary:function(){if(!this._cachedDomPagingControlNavInputSummary){var t=this._getPagingControlNav(),_=null;t&&(_=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SUMMARY_CLASS))&&_.length>0&&(this._cachedDomPagingControlNavInputSummary=e(_.get(0)))}return this._cachedDomPagingControlNavInputSummary},_getPagingControlNavPageLinks:function(){var t=this._getPagingControlNav(),_=null;return t&&(_=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_PAGES_LINKS_CLASS))&&_.length>0&&(_=e(_.get(0))),_},_getPagingControlNavArrowSection:function(){var t=this._getPagingControlNav(),_=null;if(t){if(!((_=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_ARROW_SECTION_CLASS))&&_.length>0))return null;_=e(_.get(0))}return _},_getPagingControlNavInputSection:function(){var t=this._getPagingControlNav(),_=null;if(t){if(!((_=t.find("."+this._CSS_CLASSES._PAGING_CONTROL_NAV_INPUT_SECTION_CLASS))&&_.length>0))return null;_=e(_.get(0))}return _}}),s.extension._WIDGET_NAME="ojPagingControl",t.CustomElementBridge.register("oj-paging-control",{metadata:s})});