/**
 * @license
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";define(["ojs/ojcore","jquery","ojs/ojconfig","ojs/ojcomponentcore","ojs/ojdvt-base","ojs/internal-deps/dvt/DvtToolkit","ojs/ojlocaledata","ojs/ojlogger","ojs/ojvalidation-datetime"],function(e,t,r,n,i,o,a,s){e.__registerWidget("oj.dvtTimeComponent",t.oj.dvtBaseComponent,{_GetEventTypes:function(){return["optionChange","viewportChange"]},_GetTranslationMap:function(){var e=this._super(),t=a.getMonthNames("wide");e["DvtUtilBundle.MONTH_JANUARY"]=t[0],e["DvtUtilBundle.MONTH_FEBRUARY"]=t[1],e["DvtUtilBundle.MONTH_MARCH"]=t[2],e["DvtUtilBundle.MONTH_APRIL"]=t[3],e["DvtUtilBundle.MONTH_MAY"]=t[4],e["DvtUtilBundle.MONTH_JUNE"]=t[5],e["DvtUtilBundle.MONTH_JULY"]=t[6],e["DvtUtilBundle.MONTH_AUGUST"]=t[7],e["DvtUtilBundle.MONTH_SEPTEMBER"]=t[8],e["DvtUtilBundle.MONTH_OCTOBER"]=t[9],e["DvtUtilBundle.MONTH_NOVEMBER"]=t[10],e["DvtUtilBundle.MONTH_DECEMBER"]=t[11];var r=a.getDayNames("wide");e["DvtUtilBundle.DAY_SUNDAY"]=r[0],e["DvtUtilBundle.DAY_MONDAY"]=r[1],e["DvtUtilBundle.DAY_TUESDAY"]=r[2],e["DvtUtilBundle.DAY_WEDNESDAY"]=r[3],e["DvtUtilBundle.DAY_THURSDAY"]=r[4],e["DvtUtilBundle.DAY_FRIDAY"]=r[5],e["DvtUtilBundle.DAY_SATURDAY"]=r[6];var n=a.getDayNames("abbreviated");return e["DvtUtilBundle.DAY_SHORT_SUNDAY"]=n[0],e["DvtUtilBundle.DAY_SHORT_MONDAY"]=n[1],e["DvtUtilBundle.DAY_SHORT_TUESDAY"]=n[2],e["DvtUtilBundle.DAY_SHORT_WEDNESDAY"]=n[3],e["DvtUtilBundle.DAY_SHORT_THURSDAY"]=n[4],e["DvtUtilBundle.DAY_SHORT_FRIDAY"]=n[5],e["DvtUtilBundle.DAY_SHORT_SATURDAY"]=n[6],e},_HandleEvent:function(e){if("viewportChange"===e.type){var t=new Date(e.viewportStart).toISOString(),r=new Date(e.viewportEnd).toISOString(),n=e.minorAxisScale,i={viewportStart:t,viewportEnd:r,minorAxisScale:n};this._UserOptionChange("viewportStart",t),this._UserOptionChange("viewportEnd",r),this._UserOptionChange("minorAxis.scale",n),this._trigger("viewportChange",null,i)}else this._super(e)},_LoadResources:function(){null==this.options._resources&&(this.options._resources={});var t=this.options._resources;t.grabbingCursor=r.getResourceUrl("resources/internal-deps/dvt/chart/hand-closed.cur"),t.grabCursor=r.getResourceUrl("resources/internal-deps/dvt/chart/hand-open.cur");var n=e.Validation.converterFactory(e.ConverterFactory.CONVERTER_TYPE_DATETIME),i=n.createConverter({hour:"numeric",minute:"2-digit",second:"2-digit"}),o=n.createConverter({hour:"numeric",minute:"2-digit"}),a=n.createConverter({hour:"numeric"}),s=n.createConverter({month:"numeric",day:"2-digit"}),l=n.createConverter({month:"long"}),u={seconds:i,minutes:o,hours:a,days:s,weeks:s,months:l,quarters:l,years:n.createConverter({year:"numeric"})};t.converter=u,t.converterFactory=n,t.firstDayOfWeek=e.LocaleData.getFirstDayOfWeek()},_ProcessTemplates:function(e,t,r){var n=this._GetDataProviderSeriesConfig(),i=this.element[0],o=this._super(e,t,r);if(n&&e===n.dataProperty){var a,l,u,d=[],v={},D=o.values[0],_=0,c=n.idAttribute,U=n.itemsKey;for(u=0;u<D.length;u++){var p=D[u],h={data:p._itemData,key:p.id,index:u,componentElement:i},A=null!=p[c]?p[c]:p.id;v[A]?(v[A][U].push(h),d[v[A].index][U].push(p)):((l={componentElement:i,id:A,index:_})[U]=[h],v[A]=l,_+=1,(a={id:A})[U]=[p],d.push(a))}var m=n.templateName,T=n.templateElementName,g=this.getTemplates()[m];if(g){var Y=this.options.as,B=this.getElementPropertyNames(T);for(u=0;u<d.length;u++){l=v[(a=d[u]).id];try{var O=r.resolveProperties(i,g[0],T,B,l,Y);O.id=a.id,O[U]=a[U],d[u]=O}catch(e){s.error(e)}}}return{paths:o.paths,values:[d]}}return o},_GetDataProviderSeriesConfig:function(){return{}}})});